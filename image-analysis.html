<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Vine Tech ‚Äî An√°lise de Criativos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --vt-bg: #0f172a;
      --vt-bg-soft: #f3f4f6;
      --vt-card-bg: #ffffff;
      --vt-primary: #2563eb;
      --vt-primary-dark: #1d4ed8;
      --vt-border: #e5e7eb;
      --vt-text-main: #111827;
      --vt-text-soft: #6b7280;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: var(--vt-bg-soft);
      color: var(--vt-text-main);
    }

    /* HEADER */
    header {
      background: var(--vt-bg);
      color: #ffffff;
      padding: 12px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .header-left {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .app-title {
      margin: 0;
      font-size: 18px;
      font-weight: 600;
    }

    .app-subtitle {
      margin: 0;
      font-size: 12px;
      opacity: 0.8;
    }

    .header-nav {
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }

    .nav-link {
      font-size: 12px;
      color: #e5e7eb;
      text-decoration: none;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: background 0.15s, border-color 0.15s, color 0.15s;
    }

    .nav-link:hover {
      background: rgba(148, 163, 184, 0.2);
      border-color: rgba(148, 163, 184, 0.5);
    }

    .nav-link-primary {
      border-color: #38bdf8;
      color: #e0f2fe;
      background: rgba(56, 189, 248, 0.08);
    }

    /* LAYOUT PRINCIPAL */
    main {
      max-width: 900px;
      margin: 32px auto;
      padding: 0 16px 40px;
    }

    .upload-card {
      background: var(--vt-card-bg);
      border-radius: 12px;
      padding: 24px 24px 28px;
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.12);
      border: 1px solid #e5e7eb;
    }

    .upload-card h2 {
      margin-top: 0;
      margin-bottom: 4px;
      font-size: 20px;
    }

    .upload-card p {
      margin-top: 0;
      margin-bottom: 20px;
      color: var(--vt-text-soft);
      font-size: 14px;
    }

    /* DROPZONE */
    .drop-zone {
      border: 2px dashed #cbd5e1;
      border-radius: 10px;
      padding: 40px 20px;
      text-align: center;
      cursor: pointer;
      transition: border-color 0.2s, background 0.2s;
      background: #f9fafb;
    }

    .drop-zone.dragover {
      border-color: var(--vt-primary);
      background: #eff6ff;
    }

    .drop-zone span {
      display: block;
      font-size: 14px;
      color: #475569;
    }

    .drop-zone span strong {
      display: block;
      margin-bottom: 4px;
      font-size: 15px;
      color: #0f172a;
    }

    .file-input {
      display: none;
    }

    .actions {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .btn {
      padding: 10px 18px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-primary {
      background: var(--vt-primary);
      color: #ffffff;
    }

    .btn-primary:hover {
      background: var(--vt-primary-dark);
    }

    .btn-secondary {
      background: #e5e7eb;
      color: #111827;
    }

    .btn-secondary:hover {
      background: #d1d5db;
    }

    .btn-ghost {
      background: transparent;
      color: var(--vt-text-soft);
      border: 1px solid #e5e7eb;
    }

    .btn-ghost:hover {
      background: #f3f4f6;
    }

    /* GRID DE RESULTADOS */
    .grid {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 24px;
      margin-top: 28px;
    }

    @media (max-width: 900px) {
      .grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid var(--vt-border);
      padding: 18px 18px 20px;
    }

    .card h3 {
      margin: 0 0 6px;
      font-size: 16px;
    }

    .card p {
      margin: 0 0 12px;
      font-size: 13px;
      color: var(--vt-text-soft);
    }

    .preview {
      display: none;
    }

    .preview img {
      max-width: 100%;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
      background: #000;
    }

    .analysis-box {
      white-space: pre-wrap;
      font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
        Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      line-height: 1.5;
      color: #020617;
      background: #f9fafb;
      border-radius: 8px;
      padding: 12px 14px;
      border: 1px solid #e5e7eb;
      min-height: 80px;
    }

    .muted {
      color: var(--vt-text-soft);
      font-size: 12px;
      margin-top: 6px;
    }

    footer {
      text-align: center;
      padding: 24px;
      font-size: 12px;
      color: #64748b;
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header>
    <div class="header-left">
      <h1 class="app-title">Vine Tech ‚Äî An√°lise de Criativos</h1>
      <p class="app-subtitle">
        Laborat√≥rio de diagn√≥stico visual para campanhas de tr√°fego pago.
      </p>
    </div>

    <nav class="header-nav">
      <a href="index.html" class="nav-link nav-link-primary">‚Üê Voltar ao Vine Tech</a>
      <a href="index.html" class="nav-link">Menu principal</a>
      <a href="index.html#projectDiagnostics" class="nav-link">Diagn√≥stico de Campanhas</a>
      <a href="login.html" class="nav-link">Meu perfil</a>
      <!-- Links futuros -->
    </nav>
  </header>

  <!-- CONTE√öDO PRINCIPAL -->
  <main>
    <div class="upload-card">
      <h2>Enviar imagem para an√°lise</h2>
      <p>
        Fa√ßa upload de um print de campanha para receber um diagn√≥stico estrat√©gico
        baseado nas m√©tricas vis√≠veis e contexto do criativo.
      </p>

      <!-- √Årea de Drag & Drop -->
      <div id="dropZone" class="drop-zone">
        <span><strong>Arraste e solte</strong> a imagem aqui</span>
        <span>ou clique para selecionar do computador</span>
        <input
          type="file"
          id="fileInput"
          class="file-input"
          accept="image/*"
        />
      </div>

      <!-- Bot√µes -->
      <div class="actions">
        <button id="analyzeBtn" class="btn btn-primary">
          üîç Analisar imagem
        </button>

        <button id="clearBtn" class="btn btn-secondary">
          Limpar
        </button>

        <button
          type="button"
          class="btn btn-ghost"
          onclick="window.location.href='index.html#projectDiagnostics'"
        >
          ‚Üê Voltar para Diagn√≥stico de Campanhas
        </button>
      </div>

      <!-- GRID: Preview + Resultado -->
      <div class="grid">
        <!-- Preview -->
        <div class="card preview" id="previewCard">
          <h3>Pr√©-visualiza√ß√£o</h3>
          <p>Confira se este √© o print correto antes de analisar.</p>
          <img id="previewImage" src="" alt="Preview da imagem" />
          <p id="previewMeta" class="muted"></p>
        </div>

        <!-- Resultado da "IA" -->
        <div class="card">
          <h3>Resultado da an√°lise (IA Estrat√©gica)</h3>
          <p>
            O Vine Tech l√™ este criativo como um material real de campanha e
            gera uma leitura t√°tica focada em decis√£o.
          </p>
          <div id="analysisBox" class="analysis-box">
Nenhuma an√°lise gerada ainda.
Envie um print e clique em ‚ÄúAnalisar imagem‚Äù.
          </div>
          <p class="muted">
            Esta √© uma simula√ß√£o local de IA. Em uma pr√≥xima etapa, vamos trocar
            esta l√≥gica por um modelo real via API, integrado ao Vine Tech.
          </p>
        </div>
      </div>
    </div>
  </main>

  <footer>
    ¬© Vine Tech ‚Äî MVP em constru√ß√£o ‚Ä¢ ‚ÄúTudo, por√©m, seja feito com dec√™ncia e ordem.‚Äù (1 Co 14:40)
  </footer>

  <!-- SCRIPT -->
  <script>
    const dropZone = document.getElementById("dropZone");
    const fileInput = document.getElementById("fileInput");
    const previewCard = document.getElementById("previewCard");
    const previewImage = document.getElementById("previewImage");
    const previewMeta = document.getElementById("previewMeta");
    const clearBtn = document.getElementById("clearBtn");
    const analyzeBtn = document.getElementById("analyzeBtn");
    const analysisBox = document.getElementById("analysisBox");

    let selectedFile = null;

    // Clique na √°rea = abre seletor de arquivo
    dropZone.addEventListener("click", () => {
      fileInput.click();
    });

    // Drag & Drop
    dropZone.addEventListener("dragover", (e) => {
      e.preventDefault();
      dropZone.classList.add("dragover");
    });

    dropZone.addEventListener("dragleave", () => {
      dropZone.classList.remove("dragover");
    });

    dropZone.addEventListener("drop", (e) => {
      e.preventDefault();
      dropZone.classList.remove("dragover");

      if (e.dataTransfer.files.length > 0) {
        handleFile(e.dataTransfer.files[0]);
      }
    });

    fileInput.addEventListener("change", () => {
      if (fileInput.files.length > 0) {
        handleFile(fileInput.files[0]);
      }
    });

    clearBtn.addEventListener("click", () => {
      selectedFile = null;
      fileInput.value = "";
      previewCard.style.display = "none";
      previewImage.src = "";
      previewMeta.textContent = "";
      analysisBox.textContent =
        "Nenhuma an√°lise gerada ainda.\nEnvie um print e clique em ‚ÄúAnalisar imagem‚Äù.";
    });

    function handleFile(file) {
      if (!file.type.startsWith("image/")) {
        alert("Por favor, selecione apenas arquivos de imagem (PNG, JPG, etc.).");
        return;
      }

      selectedFile = file;

      const reader = new FileReader();
      reader.onload = () => {
        previewImage.src = reader.result;
        previewCard.style.display = "block";

        const sizeKB = Math.round(file.size / 1024);
        previewMeta.textContent = `Arquivo: ${file.name} ‚Ä¢ Tamanho aproximado: ${sizeKB} KB`;
      };
      reader.readAsDataURL(file);
    }

    // ===== An√°lise "IA" local (simulada) =====
    analyzeBtn.addEventListener("click", () => {
      if (!selectedFile) {
        alert("Envie primeiro um print de campanha antes de solicitar a an√°lise.");
        return;
      }

      const sizeKB = Math.round(selectedFile.size / 1024);
      const fileName = selectedFile.name.toLowerCase();

      let qualidade = "";
      if (sizeKB < 200) {
        qualidade =
          "‚ö†Ô∏è O arquivo parece leve demais. Isso pode indicar baixa resolu√ß√£o ou compress√£o excessiva. Para prints de campanhas, prefira imagens mais n√≠tidas.";
      } else if (sizeKB <= 1500) {
        qualidade =
          "‚úÖ O tamanho do arquivo est√° em uma faixa equilibrada para visualiza√ß√£o. Em geral, √© suficiente para ler m√©tricas e elementos do gerenciador.";
      } else {
        qualidade =
          "‚ÑπÔ∏è O arquivo √© relativamente pesado. A resolu√ß√£o deve estar boa, mas verifique se n√£o h√° recortes desnecess√°rios que poluam a leitura.";
      }

      let plataforma = "n√£o identificada";
      if (fileName.includes("adsmanager") || fileName.includes("facebook")) {
        plataforma = "Meta Ads (Facebook/Instagram)";
      } else if (fileName.includes("google") || fileName.includes("gads")) {
        plataforma = "Google Ads";
      }

      const diagnostico = `
üìå An√°lise inicial do criativo enviado

Arquivo analisado:
- Nome: ${selectedFile.name}
- Tamanho aproximado: ${sizeKB} KB
- Plataforma prov√°vel: ${plataforma}

üéØ Leitura estrat√©gica do print:
${qualidade}

üß† Pr√≥ximos passos recomendados para o gestor:
- Use este print dentro da ABA 2 (Gest√£o de Projetos / Diagn√≥stico de Campanhas) para registrar o contexto da campanha.
- Observe m√©tricas como CTR, CPC, CPM, CPL e ROAS diretamente no print.
- A partir delas, defina se o projeto est√° em fase de teste, aten√ß√£o ou escala.

üìÇ Sugest√£o de organiza√ß√£o:
- Salve este print em uma pasta nomeada por cliente/projeto.
- Utilize sempre o Vine Tech para centralizar diagn√≥sticos, hist√≥ricos e decis√µes.

Este √© um diagn√≥stico local de exemplo.
Na pr√≥xima etapa, vamos conectar esta tela a uma IA real para leitura profunda do print (via API).`;

      analysisBox.textContent = diagnostico;
    });
  </script>
</body>
</html>
